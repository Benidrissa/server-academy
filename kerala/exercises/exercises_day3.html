<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->

<link rel="stylesheet" href="github-markdown.css">
<style>
    .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 80%;
        margin: 0 auto;
        padding: 45px;
    }
</style>
</head>
<body class="markdown-body">>
<nav id="TOC">
<ul>
<li><a href="#kerala-server-academy">Kerala server academy</a><ul>
<li><a href="#exercises-day-3---postgres">Exercises Day 3 - Postgres</a><ul>
<li><a href="#pg_hba.conf-access-control">pg_hba.conf Access control</a></li>
<li><a href="#postgresql.conf-tuning">postgresql.conf Tuning</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="kerala-server-academy">Kerala server academy</h1>
<h2 id="exercises-day-3---postgres">Exercises Day 3 - Postgres</h2>
<p>Postgresql configuration is done through text files in<br />
/etc/postgresql/<version>/main directory.</p>
<p>The two most important configuration files are postgresql.conf<br />
and pg_hba.conf.</p>
<h3 id="pg_hba.conf-access-control">pg_hba.conf Access control</h3>
<p>For an all-in-one DHIS2 installation (with everything on the same machine)<br />
the default settings are good and don't need to be adjusted.</p>
<p>If you need to make your database accessable from another machine, then<br />
access controls need to be adjusted. Good practice here is always to allow<br />
only the minimum access to get the job done.</p>
<p>Settings in the pg_hba.conf file are described in the postgresql online documentation<br />
<a href="https://www.postgresql.org/docs/9.6/static/auth-pg-hba-conf.html">here</a>.</p>
<p>Work through an exercise where one linode allows dhis2 database access from another linode.</p>
<h3 id="postgresql.conf-tuning">postgresql.conf Tuning</h3>
<p>This section requires we download the demo database from <a href="https://s3-eu-west-1.amazonaws.com/databases.dhis2.org/sierra-leone/2.28/dhis2-db-sierra-leone.sql.gz">here</a>.</p>
<p>Relevant documentation:<br />
<a href="https://docs.dhis2.org/2.29/en/implementer/html/install_server_setup.html#install_postgresql_performance_tuning">DHIS2 documentation</a></p>
<p><a href="https://www.postgresql.org/docs/9.5/static/config-setting.html">Postgresql documentation</a></p>
<p>Discuss tuning options.</p>
</body>
</html>
